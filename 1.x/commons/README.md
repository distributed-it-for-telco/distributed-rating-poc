# Commons Component
- This component contains a set of reusable functionalities, used by other components
- The functions are used throught wit-interface definition
- This component is not deployed into wasmcloud directly, instead it needs to be composed to dependant component using wac tool
- 
## types interface
- contains all common types used throughout the application.
### notes on usage
- you don't need to import the wit "types" interface directly, unless you need to define wit methods or resources that uses it
- however, if you don't import wit interface that uses the types interface, it will not be generated by wit-bindgen
## error-types interface
- contains all common error types used throughout the application.
## notes on current error types
- the current used Main error type is the generic-error, which is a wit-variant, a form of enum
- The plan was to embed inside each variant Item, a value of another custom type, hence creating a form of error heirarchy
- however, we were not able to achive this alongside build time composition, and left as an item for investigation due to project pause.
## mappers interface
- conains functions that maps subset of the common types to and from string
- used by components that exchange data with external apps/ervices
    ### Motivation
    - Currently The application is exchanging data with external sources, such as http requsts and KV stores
    - data is, at low level, passed as binary stream which can be easily parsed as string.
    - however, such data needs to be serialized and deserialized to an application level data structure
    - hand written serialization and deserilization requires effort and also error prone, and usage of well known rust crates ([serde]()) was not successful with wit-bindgen to automatically do serialization and deserialization on defaut wit-types
    - The proposed, and currently used solution for such matter is as follows
        - replicate the wit type as internal commons type, apply serde on the manually created type
        - implement a direct mapping between the wit-type and its replica
        - create a mapper function, exposed through wit interface, which takes a string, serialize it to the replica type, then map it to the original type, and vice versa
    - those methods have been relocated in the common component as they have been used across other multiple components
## builder interface
- contiain builder-pattern implementation for a subset of the common types
- two forms of builder patterns exists, one were meant to replace the other, however this didn't happen due to pause of activities
## commons interface
- contains some utility functions
